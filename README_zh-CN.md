# OpenClaw Zero Token

**å… API Token ä½¿ç”¨å¤§æ¨¡å‹** - é€šè¿‡æµè§ˆå™¨ç™»å½•æ–¹å¼å…è´¹ä½¿ç”¨ DeepSeekã€è±†åŒ…ã€Claudeã€ChatGPT ç­‰ AI æ¨¡å‹ã€‚

[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

[English](README.md) | ç®€ä½“ä¸­æ–‡

---

## é¡¹ç›®ç®€ä»‹

OpenClaw Zero Token æ˜¯ [OpenClaw](https://github.com/openclaw/openclaw) çš„åˆ†æ”¯ç‰ˆæœ¬ï¼Œæ ¸å¿ƒç›®æ ‡æ˜¯**å…é™¤ API Token è´¹ç”¨**ï¼Œé€šè¿‡æ¨¡æ‹Ÿæµè§ˆå™¨ç™»å½•æ•è·ä¼šè¯å‡­è¯ï¼Œå®ç°å¯¹å„å¤§ AI å¹³å°çš„å…è´¹è®¿é—®ã€‚

### ä¸ºä»€ä¹ˆé€‰æ‹© Zero Tokenï¼Ÿ

| ä¼ ç»Ÿæ–¹å¼ | Zero Token æ–¹å¼ |
|---------|----------------|
| éœ€è¦è´­ä¹° API Token | **å®Œå…¨å…è´¹** |
| æŒ‰è°ƒç”¨æ¬¡æ•°è®¡è´¹ | æ— ä½¿ç”¨é™åˆ¶ |
| éœ€è¦ç»‘å®šä¿¡ç”¨å¡ | ä»…éœ€ç½‘é¡µç™»å½• |
| Token å¯èƒ½æ³„éœ² | å‡­è¯æœ¬åœ°å­˜å‚¨ |

### æ”¯æŒçš„å¹³å°

| å¹³å° | çŠ¶æ€ | æ¨¡å‹ |
|-----|------|------|
| DeepSeek | âœ… **å½“å‰æ”¯æŒ** | deepseek-chat, deepseek-reasoner |
| è±†åŒ… (Doubao) | âœ… **å½“å‰æ”¯æŒ** | doubaoï¼ˆvia doubao-free-apiï¼‰ |
| Claude Web | âœ… **å½“å‰æ”¯æŒ** | claude-3-5-sonnet-20241022, claude-3-opus-20240229, claude-3-haiku-20240307 |
| ChatGPT Web | ğŸ”œ è®¡åˆ’ä¸­ | - |

> **æ³¨æ„ï¼š** è±†åŒ…éœ€é…åˆ [doubao-free-api](https://github.com/linuxhsj/doubao-free-api) ä»£ç†ä½¿ç”¨ï¼Œè¯¦è§ä¸‹æ–‡ã€Œè±†åŒ…å®ç°åŸç†ä¸éƒ¨ç½²ã€ã€‚

---

## ç³»ç»Ÿæ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                              OpenClaw Zero Token                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                              â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚   Web UI    â”‚    â”‚  CLI/TUI    â”‚    â”‚   Gateway   â”‚    â”‚  Channels   â”‚  â”‚
â”‚  â”‚  (Lit 3.x)  â”‚    â”‚             â”‚    â”‚  (Port API) â”‚    â”‚ (Telegramâ€¦) â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜    â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚         â”‚                  â”‚                  â”‚                  â”‚          â”‚
â”‚         â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜          â”‚
â”‚                                    â”‚                                         â”‚
â”‚                           â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”                               â”‚
â”‚                           â”‚   Agent Core    â”‚                               â”‚
â”‚                           â”‚  (PI-AI Engine) â”‚                               â”‚
â”‚                           â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”˜                               â”‚
â”‚                                    â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚                          Provider Layer                               â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚  â”‚
â”‚  â”‚  â”‚ DeepSeek Web â”‚  â”‚ Doubao Proxy â”‚  â”‚   OpenAI     â”‚  â”‚ Anthropic   â”‚  â”‚  â”‚
â”‚  â”‚  â”‚ (Zero Token) â”‚  â”‚ (Zero Token) â”‚  â”‚   (Token)    â”‚  â”‚  (Token)    â”‚  â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## å… Token å®ç°åŸç†

### æ ¸å¿ƒæµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                        DeepSeek Web è®¤è¯æµç¨‹                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                             â”‚
â”‚  1. å¯åŠ¨æµè§ˆå™¨                                                              â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚     â”‚ openclaw    â”‚ â”€â”€å¯åŠ¨â”€â”€â–¶ Chrome (CDP Port: 18892)                     â”‚
â”‚     â”‚ gateway     â”‚           å¸¦ç”¨æˆ·æ•°æ®ç›®å½•                                â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚                                                                             â”‚
â”‚  2. ç”¨æˆ·ç™»å½•                                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚     â”‚ ç”¨æˆ·åœ¨æµè§ˆå™¨ â”‚ â”€â”€è®¿é—®â”€â”€â–¶ https://chat.deepseek.com                    â”‚
â”‚     â”‚ ä¸­æ‰‹åŠ¨ç™»å½•  â”‚           æ‰«ç /è´¦å·å¯†ç ç™»å½•                             â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚                                                                             â”‚
â”‚  3. æ•è·å‡­è¯                                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚     â”‚ Playwright  â”‚ â”€â”€ç›‘å¬â”€â”€â–¶ ç½‘ç»œè¯·æ±‚                                     â”‚
â”‚     â”‚ CDP è¿æ¥    â”‚           æ‹¦æˆª Authorization Header                    â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜           è·å– Cookie                                   â”‚
â”‚                                                                             â”‚
â”‚  4. å­˜å‚¨å‡­è¯                                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”                                                        â”‚
â”‚     â”‚ auth.json   â”‚ â—€â”€â”€ä¿å­˜â”€â”€ { cookie, bearer, userAgent }               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                                                        â”‚
â”‚                                                                             â”‚
â”‚  5. API è°ƒç”¨                                                                â”‚
â”‚     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”     â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”               â”‚
â”‚     â”‚ DeepSeek    â”‚ â”€â”€â–¶ â”‚ DeepSeek    â”‚ â”€â”€â–¶ â”‚ chat.deep-  â”‚               â”‚
â”‚     â”‚ WebClient   â”‚     â”‚ Web API     â”‚     â”‚ seek.com    â”‚               â”‚
â”‚     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜     â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜               â”‚
â”‚         ä½¿ç”¨å­˜å‚¨çš„ Cookie + Bearer Token                                    â”‚
â”‚                                                                             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### å…³é”®æŠ€æœ¯ç‚¹

| æŠ€æœ¯ç‚¹ | å®ç°æ–¹å¼ |
|-------|---------|
| **æµè§ˆå™¨è‡ªåŠ¨åŒ–** | Playwright CDP è¿æ¥ Chrome |
| **å‡­è¯æ•è·** | ç›‘å¬ç½‘ç»œè¯·æ±‚ï¼Œæå– Authorization Header |
| **PoW æŒ‘æˆ˜** | WASM SHA3 è®¡ç®—åçˆ¬ç­”æ¡ˆ |
| **æµå¼å“åº”** | SSE è§£æ + è‡ªå®šä¹‰æ ‡ç­¾è§£æå™¨ |

---

## è±†åŒ…å®ç°åŸç†ä¸éƒ¨ç½²

### ä¸€ã€æ€»ä½“åŸç†

è±†åŒ…é›†æˆåŸºäº**ç½‘é¡µç«¯ Cookie è®¤è¯**ï¼Œä¸ä¾èµ–å®˜æ–¹ API Keyï¼š

```
æµè§ˆå™¨ç™»å½•è±†åŒ… â†’ è·å– sessionidï¼ˆF12 â†’ Application â†’ Cookiesï¼‰â†’
  doubao-proxyï¼šå°† sessionid ä¼ ç»™æœ¬åœ°ä»£ç†ï¼Œä»£ç†å†…éƒ¨ç”¨ Cookie è°ƒç”¨è±†åŒ… API
  doubao-webï¼šç›´æ¥ç”¨ Cookie å†’å……ç½‘é¡µè¯·æ±‚è°ƒç”¨è±†åŒ…å†…éƒ¨ APIï¼ˆå¤‡é€‰ï¼ŒSSE æ ¼å¼æ˜“å˜ï¼‰
```

**æ¨èä½¿ç”¨ doubao-proxy**ï¼šé€šè¿‡ [doubao-free-api](https://github.com/linuxhsj/doubao-free-api) æœ¬åœ°ä»£ç†ï¼Œå¯¹å¤–æä¾› OpenAI å…¼å®¹æ¥å£ï¼Œæ›´ç¨³å®šã€æ˜“è°ƒè¯•ã€‚

### äºŒã€ä¸¤ç§æ–¹æ¡ˆå¯¹æ¯”

| æ–¹æ¡ˆ | æ¨èåº¦ | API ç«¯ç‚¹ | è®¤è¯æ–¹å¼ | è¯·æ±‚/å“åº”æ ¼å¼ |
|------|--------|----------|----------|---------------|
| **doubao-proxy** | â˜… æ¨è | æœ¬åœ° `http://127.0.0.1:8000/v1/chat/completions` | Bearer Tokenï¼ˆsessionidï¼‰ | æ ‡å‡† OpenAI æ ¼å¼ |
| **doubao-web** | å¤‡é€‰ | `https://www.doubao.com/...` ç›´è¿ | Cookieï¼ˆsessionidã€ttwid ç­‰ï¼‰ | è±†åŒ…è‡ªå®šä¹‰ SSE |

### ä¸‰ã€æŠ€æœ¯æ¶æ„ä¸ä»£ç ç»“æ„

```
src/
â”œâ”€â”€ providers/
â”‚   â”œâ”€â”€ doubao-web-auth.ts      # è±†åŒ…æµè§ˆå™¨ç™»å½•ä¸å‡­è¯æ•è·
â”‚   â””â”€â”€ doubao-web-client.ts    # è±†åŒ…ç½‘é¡µ API å®¢æˆ·ç«¯ï¼ˆdoubao-web ç”¨ï¼‰
â”œâ”€â”€ agents/
â”‚   â”œâ”€â”€ doubao-web-stream.ts    # doubao-web æµå¼å“åº”è§£æ
â”‚   â””â”€â”€ models-config.providers.ts  # doubao-proxy æ³¨å†Œï¼ˆapi: openai-completionsï¼‰
â””â”€â”€ commands/
    â”œâ”€â”€ auth-choice.apply.doubao-proxy.ts   # doubao-proxy é…ç½®æµç¨‹
    â”œâ”€â”€ auth-choice.apply.doubao-web.ts     # doubao-web é…ç½®æµç¨‹
    â””â”€â”€ onboard-auth.config-core.ts         # applyDoubaoProxyConfig ç­‰
```

**doubao-proxy æ•°æ®æµ**ï¼ˆæ— éœ€è‡ªå®šä¹‰ streamï¼Œå¤ç”¨ OpenAI å…¼å®¹è·¯å¾„ï¼‰ï¼š

```
Web UI â†’ chat.send â†’ runEmbeddedAttempt â†’ authStorage.getApiKey("doubao-proxy")
  â†’ streamSimpleï¼ˆPI-AIï¼‰â†’ fetch(baseUrl/chat/completions, Authorization: Bearer sessionid)
  â†’ doubao-free-api ä»£ç†è½¬å‘åˆ°è±†åŒ… â†’ æ ‡å‡† SSE æµ â†’ Web UI
```

**doubao-web æ•°æ®æµ**ï¼ˆéœ€è‡ªå®šä¹‰ stream è§£æè±†åŒ… SSEï¼‰ï¼š

```
Web UI â†’ createDoubaoWebStreamFn(cookie) â†’ DoubaoWebClient.chatCompletions(stream: true)
  â†’ fetch è±†åŒ…å†…éƒ¨ API â†’ è§£æ event_type 2001/2003 ç­‰ â†’ text_delta â†’ Web UI
```

### å››ã€doubao-free-api éƒ¨ç½²

æ¨èä½¿ç”¨ [linuxhsj/doubao-free-api](https://github.com/linuxhsj/doubao-free-api)ï¼Œæ”¯æŒæ–‡ç”Ÿå›¾ã€å›¾ç”Ÿå›¾ã€å›¾æ–‡è§£è¯»ç­‰ã€‚

#### 4.1 è·å– sessionid

1. æ‰“å¼€ [https://www.doubao.com](https://www.doubao.com) å¹¶ç™»å½•
2. æŒ‰ F12 æ‰“å¼€å¼€å‘è€…å·¥å…· â†’ Application â†’ Cookies
3. å¤åˆ¶ `sessionid` çš„å€¼

#### 4.2 åŸç”Ÿéƒ¨ç½²ï¼ˆæ¨èï¼‰

```bash
git clone https://github.com/linuxhsj/doubao-free-api.git
cd doubao-free-api
npm i
npm run build
npm start   # æˆ– pm2 start dist/index.js --name doubao-free-api
```

#### 4.3 Docker éƒ¨ç½²

```bash
docker run -it -d --init --name doubao-free-api -p 8000:8000 \
  -e TZ=Asia/Shanghai linuxhsj/doubao-free-api:latest

docker logs -f doubao-free-api
```

#### 4.4 Docker Compose éƒ¨ç½²

```yaml
version: '3'
services:
  doubao-free-api:
    container_name: doubao-free-api
    image: linuxhsj/doubao-free-api:latest
    restart: always
    ports:
      - "8000:8000"
    environment:
      - TZ=Asia/Shanghai
```

#### 4.5 OpenClaw é…ç½®

1. è¿è¡Œ `node openclaw.mjs onboard`ï¼Œé€‰æ‹© **è±†åŒ… (Doubao)** â†’ **doubao-proxy**
2. baseUrl é»˜è®¤ `http://127.0.0.1:8000/v1`ï¼ˆè‹¥ä»£ç†åœ¨å…¶ä»–ä¸»æœºï¼Œæ”¹ä¸ºå¯¹åº”åœ°å€ï¼‰
3. ç²˜è´´ sessionidï¼Œå®Œæˆé…ç½®

#### 4.6 éªŒè¯

```bash
curl -N -X POST "http://127.0.0.1:8000/v1/chat/completions" \
  -H "Authorization: Bearer <sessionid>" \
  -H "Content-Type: application/json" \
  -d '{"model":"doubao","messages":[{"role":"user","content":"ä½ å¥½"}],"stream":true}'
```

è‹¥è¿”å› SSE æµï¼Œè¯´æ˜ä»£ç†æ­£å¸¸ã€‚

### äº”ã€è®¤è¯ä¸é…ç½®å­˜å‚¨

| å­˜å‚¨ä½ç½® | è¯´æ˜ |
|----------|------|
| `auth-profiles.json` | `doubao-proxy:default` çš„ `key` å³ä¸º sessionid |
| `openclaw.json` | `models.providers["doubao-proxy"].baseUrl`ã€`agents.defaults.model.primary` |
| ç¯å¢ƒå˜é‡ | å¯é€‰ `DOUBAO_PROXY_SESSIONID` |

### å…­ã€æ³¨æ„äº‹é¡¹

- **sessionid å­˜æ´»**ï¼šè±†åŒ…ä¼šå®šæœŸå¤±æ•ˆï¼Œéœ€é‡æ–°ç™»å½•å¹¶æ›´æ–° sessionid
- **å¤šè´¦å·**ï¼šdoubao-free-api æ”¯æŒ `Authorization: Bearer sessionid1,sessionid2` å¤šè·¯ token
- **ç«¯å£**ï¼šé»˜è®¤ 8000ï¼Œç¡®ä¿é˜²ç«å¢™æˆ–äº‘å®‰å…¨ç»„æ”¾è¡Œ
- **åˆè§„**ï¼šé€†å‘ API ä»…ä¾›è‡ªç”¨å­¦ä¹ ï¼Œå•†ç”¨è¯·ä½¿ç”¨ [ç«å±±å¼•æ“å®˜æ–¹ API](https://www.volcengine.com/product/doubao)

---

## å¿«é€Ÿå¼€å§‹

### ç¯å¢ƒè¦æ±‚

- Node.js >= 22.12.0
- pnpm >= 9.0.0
- Chrome æµè§ˆå™¨

### è„šæœ¬è¯´æ˜

æœ¬é¡¹ç›®æä¾›äº†å¤šä¸ªè¾…åŠ©è„šæœ¬ï¼Œé€‚ç”¨äºä¸åŒåœºæ™¯ï¼š

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                           è„šæœ¬å…³ç³»å›¾                                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚                                                                      â”‚
â”‚  é¦–æ¬¡ä½¿ç”¨ï¼š                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ run.sh (ä¸€é”®å®Œæˆï¼šç¼–è¯‘ + é…ç½® + å¯åŠ¨)                         â”‚  â”‚
â”‚  â”‚    â”‚                                                          â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ pnpm build              # ç¼–è¯‘é¡¹ç›®                    â”‚  â”‚
â”‚  â”‚    â”‚                                                          â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ onboard.sh               # é…ç½®å‘å¯¼                   â”‚  â”‚
â”‚  â”‚    â”‚       â””â”€â†’ é€‰æ‹© AI æä¾›å•† (DeepSeek/è±†åŒ…/Claude)        â”‚  â”‚
â”‚  â”‚    â”‚           é…ç½®è®¤è¯ä¿¡æ¯                                  â”‚  â”‚
â”‚  â”‚    â”‚           ä¿å­˜åˆ° .openclaw-state/openclaw.json          â”‚  â”‚
â”‚  â”‚    â”‚                                                          â”‚  â”‚
â”‚  â”‚    â””â”€â†’ server.sh start          # å¯åŠ¨ Gateway (ç«¯å£ 3001)  â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  æµ‹è¯• Claude Webï¼š                                                  â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ test-all.sh (æµ‹è¯• Claude Web åŠŸèƒ½)                           â”‚  â”‚
â”‚  â”‚    â”‚                                                          â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ start-chrome-debug.sh   # å¯åŠ¨ Chrome è°ƒè¯•æ¨¡å¼       â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ test-chrome-connection.sh # éªŒè¯è¿æ¥                 â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ server.sh stop           # åœæ­¢ Gateway              â”‚  â”‚
â”‚  â”‚    â”œâ”€â†’ å¯åŠ¨ Gateway             # é‡å¯ Gateway              â”‚  â”‚
â”‚  â”‚    â””â”€â†’ test-claude.sh           # æµ‹è¯• Claude API           â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â”‚  æ—¥å¸¸ä½¿ç”¨ï¼š                                                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚ server.sh [start|stop|restart|status]                        â”‚  â”‚
â”‚  â”‚    â””â”€â†’ ç®¡ç† Gateway æœåŠ¡                                     â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                                                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

**è„šæœ¬å¯¹æ¯”ï¼š**

| è„šæœ¬ | ç”¨é€” | ä½¿ç”¨åœºæ™¯ | æ˜¯å¦éœ€è¦ç¼–è¯‘ |
|------|------|----------|-------------|
| `run.sh` | ç¼–è¯‘ + é…ç½® + å¯åŠ¨ | é¦–æ¬¡ä½¿ç”¨ | âœ… è‡ªåŠ¨ç¼–è¯‘ |
| `onboard.sh` | é…ç½®å‘å¯¼ | é¦–æ¬¡é…ç½®æˆ–ä¿®æ”¹é…ç½® | âŒ éœ€è¦å…ˆç¼–è¯‘ |
| `test-all.sh` | æµ‹è¯• Claude Web | éªŒè¯ Claude åŠŸèƒ½ | âŒ éœ€è¦å…ˆç¼–è¯‘å’Œé…ç½® |
| `server.sh` | ç®¡ç† Gateway æœåŠ¡ | æ—¥å¸¸å¯åŠ¨/åœæ­¢/é‡å¯ | âŒ éœ€è¦å…ˆç¼–è¯‘å’Œé…ç½® |

### å®‰è£…

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/linuxhsj/openclaw-zero-token.git
cd openclaw-zero-token

# å®‰è£…ä¾èµ–
pnpm install
```

### æ–¹å¼ 1ï¼šä¸€é”®è®¾ç½®ï¼ˆé¦–æ¬¡ä½¿ç”¨æ¨èï¼‰

```bash
# è¿™å°†å®Œæˆï¼šç¼–è¯‘ + é…ç½® + å¯åŠ¨
./run.sh
```

è„šæœ¬ä¼šè‡ªåŠ¨ï¼š
1. ç¼–è¯‘é¡¹ç›® (`pnpm build`)
2. è¿è¡Œé…ç½®å‘å¯¼ (`onboard.sh`)
3. å¯åŠ¨ Gateway æœåŠ¡ (`server.sh start`)

### æ–¹å¼ 2ï¼šåˆ†æ­¥è®¾ç½®

#### æ­¥éª¤ 1ï¼šç¼–è¯‘

```bash
pnpm build
```

#### æ­¥éª¤ 2ï¼šé…ç½®è®¤è¯

```bash
# è¿è¡Œé…ç½®å‘å¯¼
./onboard.sh

# æˆ–ä½¿ç”¨ç¼–è¯‘åçš„ç‰ˆæœ¬
node openclaw.mjs onboard

# é€‰æ‹©è®¤è¯æ–¹å¼
? Auth provider: DeepSeek (Browser Login)

# é€‰æ‹©ç™»å½•æ¨¡å¼
? DeepSeek Auth Mode: 
  > Automated Login (Recommended)  # è‡ªåŠ¨æ•è·å‡­è¯
    Manual Paste                   # æ‰‹åŠ¨ç²˜è´´å‡­è¯
```

#### æ­¥éª¤ 3ï¼šå¯åŠ¨ Gateway

```bash
# ä½¿ç”¨è¾…åŠ©è„šæœ¬ï¼ˆæ¨èï¼‰
./server.sh start

# æˆ–ç›´æ¥å¯åŠ¨
node openclaw.mjs gateway

# è®¿é—® Web UI
open http://127.0.0.1:3001
```

---

## ä½¿ç”¨æ–¹å¼

### Web UI

è®¿é—® `http://127.0.0.1:3001`ï¼Œåœ¨èŠå¤©ç•Œé¢ç›´æ¥ä½¿ç”¨ DeepSeek æ¨¡å‹ã€‚

### API è°ƒç”¨

```bash
# ä½¿ç”¨ Gateway Token è°ƒç”¨
curl http://127.0.0.1:3001/v1/chat/completions \
  -H "Authorization: Bearer YOUR_GATEWAY_TOKEN" \
  -H "Content-Type: application/json" \
  -d '{
    "model": "deepseek-web/deepseek-chat",
    "messages": [{"role": "user", "content": "ä½ å¥½ï¼"}]
  }'
```

### CLI æ¨¡å¼

```bash
# äº¤äº’å¼å‘½ä»¤è¡Œ
node openclaw.mjs tui
```

---

## é…ç½®è¯´æ˜

### openclaw.json

```json
{
  "auth": {
    "profiles": {
      "deepseek-web:default": {
        "provider": "deepseek-web",
        "mode": "api_key"
      }
    }
  },
  "models": {
    "providers": {
      "deepseek-web": {
        "baseUrl": "https://chat.deepseek.com",
        "api": "deepseek-web",
        "models": [
          {
            "id": "deepseek-chat",
            "name": "DeepSeek Chat",
            "contextWindow": 64000,
            "maxTokens": 4096
          },
          {
            "id": "deepseek-reasoner",
            "name": "DeepSeek Reasoner",
            "reasoning": true,
            "contextWindow": 64000,
            "maxTokens": 8192
          }
        ]
      }
    }
  },
  "gateway": {
    "port": 3001,
    "auth": {
      "mode": "token",
      "token": "your-gateway-token"
    }
  }
}
```

---

## å¼€å‘è·¯çº¿

### å½“å‰é‡ç‚¹
- âœ… DeepSeek Web è®¤è¯ï¼ˆç¨³å®šï¼‰
- âœ… è±†åŒ… via doubao-free-api
- âœ… Claude Web è®¤è¯ï¼ˆç¨³å®šï¼‰
- ğŸ”§ æé«˜å‡­è¯æ•è·å¯é æ€§
- ğŸ“ æ–‡æ¡£æ”¹è¿›

### è®¡åˆ’åŠŸèƒ½
- ğŸ”œ ChatGPT Web è®¤è¯æ”¯æŒ
- ğŸ”œ è¿‡æœŸä¼šè¯è‡ªåŠ¨åˆ·æ–°

---

## æ‰©å±•å…¶ä»–å¹³å°

è¦æ·»åŠ æ–°çš„ Web è®¤è¯å¹³å°ï¼Œéœ€è¦åˆ›å»ºä»¥ä¸‹æ–‡ä»¶ï¼š

### 1. è®¤è¯æ¨¡å— (`src/providers/{platform}-web-auth.ts`)

```typescript
export async function loginPlatformWeb(params: {
  onProgress: (msg: string) => void;
  openUrl: (url: string) => Promise<boolean>;
}): Promise<{ cookie: string; bearer: string; userAgent: string }> {
  // æµè§ˆå™¨è‡ªåŠ¨åŒ–ç™»å½•ï¼Œæ•è·å‡­è¯
}
```

### 2. API å®¢æˆ·ç«¯ (`src/providers/{platform}-web-client.ts`)

```typescript
export class PlatformWebClient {
  constructor(options: { cookie: string; bearer?: string }) {}
  
  async chatCompletions(params: ChatParams): Promise<ReadableStream> {
    // è°ƒç”¨å¹³å° Web API
  }
}
```

### 3. æµå¤„ç†å™¨ (`src/agents/{platform}-web-stream.ts`)

```typescript
export function createPlatformWebStreamFn(credentials: string): StreamFn {
  // å¤„ç†å¹³å°ç‰¹æœ‰çš„å“åº”æ ¼å¼
}
```

---

## æ–‡ä»¶ç»“æ„

```
openclaw-zero-token/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ providers/
â”‚   â”‚   â”œâ”€â”€ deepseek-web-auth.ts      # DeepSeek ç™»å½•æ•è·
â”‚   â”‚   â””â”€â”€ deepseek-web-client.ts    # DeepSeek API å®¢æˆ·ç«¯
â”‚   â”œâ”€â”€ agents/
â”‚   â”‚   â””â”€â”€ deepseek-web-stream.ts    # æµå¼å“åº”å¤„ç†
â”‚   â”œâ”€â”€ commands/
â”‚   â”‚   â””â”€â”€ auth-choice.apply.deepseek-web.ts  # è®¤è¯æµç¨‹
â”‚   â””â”€â”€ browser/
â”‚       â””â”€â”€ chrome.ts                 # Chrome è‡ªåŠ¨åŒ–
â”œâ”€â”€ ui/                               # Web UI (Lit 3.x)
â”œâ”€â”€ .openclaw-state/                  # æœ¬åœ°çŠ¶æ€ (ä¸æäº¤)
â”‚   â”œâ”€â”€ openclaw.json                 # é…ç½®
â”‚   â””â”€â”€ agents/main/agent/
â”‚       â””â”€â”€ auth.json                 # å‡­è¯ (æ•æ„Ÿ)
â””â”€â”€ .gitignore                        # åŒ…å« .openclaw-state/
```

---

## å®‰å…¨æ³¨æ„äº‹é¡¹

1. **å‡­è¯å­˜å‚¨**: Cookie å’Œ Bearer Token å­˜å‚¨åœ¨æœ¬åœ° `auth.json`ï¼Œ**ç»ä¸æäº¤åˆ° Git**
2. **ä¼šè¯æœ‰æ•ˆæœŸ**: Web ä¼šè¯å¯èƒ½è¿‡æœŸï¼Œéœ€è¦å®šæœŸé‡æ–°ç™»å½•
3. **ä½¿ç”¨é™åˆ¶**: Web API å¯èƒ½æœ‰é€Ÿç‡é™åˆ¶ï¼Œä¸é€‚åˆé«˜é¢‘è°ƒç”¨
4. **åˆè§„ä½¿ç”¨**: ä»…ç”¨äºä¸ªäººå­¦ä¹ ç ”ç©¶ï¼Œè¯·éµå®ˆå¹³å°æœåŠ¡æ¡æ¬¾

---

## ä¸ä¸Šæ¸¸åŒæ­¥

æœ¬é¡¹ç›®åŸºäº OpenClawï¼Œå¯ä»¥é€šè¿‡ä»¥ä¸‹æ–¹å¼åŒæ­¥ä¸Šæ¸¸æ›´æ–°ï¼š

```bash
# æ·»åŠ ä¸Šæ¸¸ä»“åº“
git remote add upstream https://github.com/openclaw/openclaw.git

# åŒæ­¥ä¸Šæ¸¸æ›´æ–°
git fetch upstream
git merge upstream/main
```

---

## è´¡çŒ®æŒ‡å—

æ¬¢è¿è´¡çŒ®ä»£ç ï¼Œç‰¹åˆ«æ˜¯ï¼š
- æ–°å¹³å°çš„ Web è®¤è¯æ”¯æŒï¼ˆè±†åŒ…ã€Claudeã€ChatGPT ç­‰ï¼‰
- Bug ä¿®å¤
- æ–‡æ¡£æ”¹è¿›

---

## è®¸å¯è¯

[MIT License](LICENSE)

---

## è‡´è°¢

- [OpenClaw](https://github.com/openclaw/openclaw) - åŸå§‹é¡¹ç›®
- [DeepSeek](https://deepseek.com) - ä¼˜ç§€çš„ AI æ¨¡å‹

---

## å…è´£å£°æ˜

æœ¬é¡¹ç›®ä»…ä¾›å­¦ä¹ å’Œç ”ç©¶ä½¿ç”¨ã€‚ä½¿ç”¨æœ¬é¡¹ç›®è®¿é—®ä»»ä½•ç¬¬ä¸‰æ–¹æœåŠ¡æ—¶ï¼Œè¯·ç¡®ä¿éµå®ˆè¯¥æœåŠ¡çš„ä½¿ç”¨æ¡æ¬¾ã€‚å¼€å‘è€…ä¸å¯¹å› ä½¿ç”¨æœ¬é¡¹ç›®è€Œäº§ç”Ÿçš„ä»»ä½•é—®é¢˜è´Ÿè´£ã€‚
